# The zip file contains: 

1. example path file 
	- path_for_one_file_2019_03_04__RIT_to_HOME.kml

2. hazard file 
	- hazard_for_one_file_2019_03_04__RIT_to_Home.kml
	- hazard_for_all_files.kml

3. the project writeup 
	- Garg_Li_Project_Report.pdf

4. python program to run all txt files (Takes 15 minutes to Run)
	- batch_processing_gps_data.py
	- usage: python3 batch_processing_gps_data.py

	- IMPORTANT: folder structure requires to run the program: 
		* batch_processing_gps_data.py
		* gps_data 	(this is where you should keep the txt files)
			* 1.txt
			* 2.txt
			* ...
		* gen_kmls	(auto-generated, this is where the kml path file are)
		* Left Turn.kml 	(auto-generated, contain points only)
		* Right Turn.kml 	(auto-generated, contain points only)
		* Stop Signs.kml 	(auto-generated, contain points only)

5. python program to run 1 txt files 
	- GPS_Data_Project_by_Li_Garg.py
	- usage: python3 GPS_Data_Project_by_Li_Garg.py [filepath/filename]

6. pythpn program containing turn and stop detections
	- costmap.py

# How to test our program: 

* usage: python3 batch_processing_gps_data.py  OR 
* usage: python3 GPS_Data_Project_by_Li_Garg.py [filepath/filename]

# The Writeup

### Abstract

This project uses unstructured data such as GPS messages generated by an Arduino device and converts it to structured data. There are two types of GPS messages, namely GPRMC and GPGGA. In this project we used GPRMC and it contains information such as Latitude, Longitude, Tracking angle, Speed in knots, Magnetic variation, Date of fix, Navigation receiver, Time of fix, mandatory checksum.We only used Latitude, Longitude, Tracking angle, and Speed in knots, and time. The GPRMC had information of route trips from Penfield to RIT, or from RIT to Penfield, or around Monroe County taken by Professor Kinsman. The GPS messages are used to create a KML path file that helps visualize the path taken. Also, using classifiers turns and stop are detected and pinned on the map. The pins are of three different colors: Yellow, Red, Green. Yellow points to a stop light, Red points to a left turn and Green shows a right turn.

### Keyword
Agglomeration, Data Visualization, KML, Geographic Information Systems, Turn Detection, Stop detection

## 1. Overview
The purpose of this project is to use GPS data collected using an Arduino micro-controller and generate a KML file. This
KML file can be viewed on Google Earth and the path taken can be visualized. For the first part of the project, anomalies
such as multiple points at the same location, incorrect GPS data generated when Arduino loses its mind, data generated
when is the car is not moving, data generated when GPS status is invalid and the trip is just or ending is removed. It is
explained in depth in section 2. The next part of the project was to detect turns and stop lights using classifiers and mark them. It is described in sections 3 and 4 in more detail. For the next part, batch processing was done on all the files to get a combined path, stops and turns. This data had multiple points for a single turn, so agglomeration was performed on
the stops and turns to get just one point that defined the turn or stop the best. If a point was classified as both a stop and a turn, it was rectified to present only turns. It is explained in section 5. Section 6 and 7 shows screenshots of the result of the KML file. Section 9 talks about the contribution of each member. And section 10 and 11, discuss and conclude the project. Section 11 discusses future work.

## 2. Converting GPS to KML
Two prerequisites for the successful conversion between the GPS data and the KML files are, first, understanding how
to GPS data is organized and stored in the text file, second, understand how tags are utilized in the KML files, such as
path vs. points.

```javascript
if (isAwesome){
  return true
}
```


python
sample data from the GPS text file
$GPRMC,233554.400 ,A,4305.1642 ,N,07740.8665 ,W,0.01 ,195.70 ,040319 , , ,D*75
$GPGGA,233554.600 ,4305.1642 ,N,07740.8665 ,W,2 ,10 ,0.93 ,165.9 ,M, ô€€€34.4 ,M,0000,0000*59
lng = -77.681114, lat = 43.086067 , altitude = 165.90 , speed = 0.01 , satellites = 10 , angle = 195.7000,
fixquality = 2
'''

